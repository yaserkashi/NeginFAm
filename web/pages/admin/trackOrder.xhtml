<ui:composition xmlns="http://www.w3.org/1999/xhtml"
                xmlns:ui="http://java.sun.com/jsf/facelets"
                xmlns:h="http://java.sun.com/jsf/html"
                xmlns:f="http://java.sun.com/jsf/core"
                xmlns:p="http://primefaces.org/ui"
                template="../../template/adminTemplate.xhtml">
    <ui:define name="content">
        <p:dataTable value="#{orderFollowUpForAdmin.listOfOrdreForAdmin()}" 
                     selection="#{orderFollowUpForAdmin.selectedOreder}" selectionMode="single" rowKey="#{trackorder.id}"
                     var="trackorder" styleClass="dataTable" style="direction: rtl">

            <p:ajax event="rowSelect"  update=""  />
            <p:column headerText="ردیف">
                <h:outputText value="#{orderFollowUpForAdmin.listOfOrdreForAdmin().indexOf(trackorder)+1}" />
            </p:column> 

            <p:column headerText="نام کاربری">
                <h:outputText value="#{trackorder.userId.username}" />
            </p:column> 

            <p:column headerText="نوع سفارش" >
                <h:outputText value="#{trackorder.tableName}" />
            </p:column> 

            <p:column headerText="شماره سفارش">
                <h:outputText value="#{trackorder.id}" />
            </p:column>  

            <p:column headerText="وضعیت" >
                <h:outputText value="#{trackorder.condition}"/>
            </p:column>
            <!--action="/pages/admin/preparefactor.xhtml"-->
            <p:column headerText="مشاهده">
                <p:commandButton  icon="ui-icon-document" actionListener="#{orderFollowUpForAdmin.insertNewFactor()}" >
                </p:commandButton>
            </p:column> 
        </p:dataTable>
        <p:commandButton  icon="ui-icon-document"  value="مشاهده"                         
                          action="#{orderFollowUpForAdmin.selectedOrderAction()}"  />    

        <p:dialog widgetVar="followupDialog" dynamic="true"
                  style="direction:rtl"
                  header="#{reportmsgs['customers']}" resizable="false" closable="true" position="center" width="40%">
            <ui:include src="/pages/admin/preparefactor.xhtml"></ui:include>

        </p:dialog>

    </ui:define>
</ui:composition>  